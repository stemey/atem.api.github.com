package org.atemsource.atem.api.extension;

import org.atemsource.atem.api.attribute.relation.SingleAttribute;
import org.atemsource.atem.api.type.EntityType;

/**
 * MetaAttributeService offers methods create a meta attribute. A meta attribute is a virtual attribute that attaches metadata to a holder type. An instance of metaAttributeService is available as Service from the metadata type.
 */
public interface MetaAttributeService {

	/**
	 * Adds the single meta attribute.
	 * 
	 * @param <J>
	 *            the type of the metadata
	 * @param name
	 *            the name of the meta attribute
	 * @param holderType
	 *            the type that the metadata is applied to
	 * @param metaDataType
	 *            the meta data type
	 * @return the single attribute
	 */
	<J> SingleAttribute<J> addSingleMetaAttribute(String name,
			EntityType<?> holderType, EntityType<J> metaDataType);

	/**
	 * Gets the meta attribute by its name.
	 * 
	 * @param <J>
	 *            the metadata type
	 * @param name
	 *            the name of the metadata
	 * @return the meta attribute
	 */
	<J> SingleAttribute<J> getMetaAttribute(String name);

	/**
	 * Gets the meta data from a holde
	 * 
	 * @param name
	 *            the name of the metadata
	 * @param holder
	 *            the holder
	 * @return the meta data
	 */
	Object getMetaData(String name, Object holder);

}
